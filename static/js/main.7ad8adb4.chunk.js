(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{37:function(e,t,a){e.exports=a(90)},42:function(e,t,a){},43:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),c=a.n(o),i=(a(42),a(17)),l=(a(43),a(44),a(12)),s=a(15),u=a(31),m=a.n(u),p=a(11);var h=function(e){var t=e.id,a=e.children,n=e.height,o=e.colClass,c=e.backgroundColor;return r.a.createElement(p.a,{id:t,style:{height:n,backgroundColor:c}},r.a.createElement("div",{className:"col ".concat(o," ml-auto mr-auto my-auto")},a))};var d=function(e){var t=e.props,a=e.setUnit;return r.a.createElement(l.a,t,r.a.createElement(l.a.Item,null,r.a.createElement(l.a.Link,{as:s.b,to:"/Weather/"},"Home")),r.a.createElement(l.a.Item,null,r.a.createElement(l.a.Link,{as:s.b,to:"/Weather/timemachine"},"Time Machine")),r.a.createElement(l.a.Item,{bsPrefix:"ml-auto mr-3"},r.a.createElement(h,{height:"100%",colClass:"col-auto"},r.a.createElement(m.a,{offlabel:"\xb0C",onlabel:"\xb0F",size:"sm",onstyle:"dark",offstyle:"secondary",checked:!0,onChange:function(){"F"===sessionStorage.unit?a("C"):a("F")}}))))},f=a(8);var y=function(e){var t=e.style,a=e.location;return r.a.createElement("div",{style:t,className:"location"},a)},g=a(34);var E=function(e){var t=e.options;return Object(n.useEffect)((function(){var e=new g.Skycons({color:t.color});e.add("icon".concat(t.instance),t.icon),e.play()})),r.a.createElement("canvas",{id:"icon".concat(t.instance),width:t.iconWidth,height:t.iconHeight})};var v=function(e){var t=e.style,a=e.tempC,n=e.tempF;return"C"===e.unit?r.a.createElement("div",{style:t,className:"temp-c"},a):r.a.createElement("div",{style:t,className:"temp-f"},n)};var b=function(e){var t=e.style,a=e.description;return r.a.createElement("div",{style:t,className:"description"},a)};var w=function(){return r.a.createElement("div",{className:"footer"},"Copyright \xa9 2020. Developed by Kolawole Campbell.")},S=a(36),C=a(16),x=a.n(C),k=a(24);function O(){return j.apply(this,arguments)}function j(){return(j=Object(k.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(JSON.parse(sessionStorage.position));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return F.apply(this,arguments)}function F(){return(F=Object(k.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/9ab479cdd941d8bb66332fa8f81551b9/".concat(t.lat,",").concat(t.long),{});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return 5*(e-32)/9}function W(e){var t=new Date(0);return t.setUTCSeconds(e),t}var P=function(e){var t=e.day,a=e.precipitation,n=e.high,o=e.icon,c=e.low,i=e.unit,l=Math.round(M(c)),s=Math.round(M(n)),u={textAlign:"left",margin:"0.2vw"};return r.a.createElement(p.a,{style:Object(S.a)({},u)},r.a.createElement(f.a,{bsPrefix:"col col-3 my-auto"},"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()])),r.a.createElement(f.a,{style:{paddingRight:"0px"},bsPrefix:"col col-3 my-auto precipitation"},"".concat(Math.round(100*a),"%")),r.a.createElement(f.a,{style:{paddingLeft:"0px"},bsPrefix:"col my-auto"},r.a.createElement(E,{options:{color:"white",icon:o,iconHeight:40,iconWidth:40,instance:t.getDay()+2}})),r.a.createElement(f.a,{bsPrefix:"col my-auto"},r.a.createElement(v,{style:u,tempC:l,tempF:c,unit:i})),r.a.createElement(f.a,{bsPrefix:"col my-auto"},r.a.createElement(v,{style:u,tempC:s,tempF:n,unit:i})))};var I=function(e){var t=e.id,a=e.unit;if(sessionStorage.weather){var n=JSON.parse(sessionStorage.weather).daily.data;return n.pop(),r.a.createElement(p.a,{id:t,style:{padding:"15px"}},r.a.createElement(f.a,{bsPrefix:"col col-xs-auto col-lg-6 mr-auto ml-auto"},n.map((function(e,t){return r.a.createElement(P,{day:W(e.time),high:Math.round(e.temperatureHigh),icon:e.icon,low:Math.round(e.temperatureLow),precipitation:e.precipProbability,key:t,unit:a})}))))}return r.a.createElement("div",null)};var z=function(e){return r.a.createElement("div",{className:"main"},r.a.createElement(h,{id:"home",colClass:"col-xs-auto col-lg-6",height:"100%"},r.a.createElement(p.a,{style:{margin:"40px 0 60px 0"}},r.a.createElement(f.a,null,r.a.createElement(h,{colClass:"col-auto",height:"100%"},r.a.createElement(y,{style:{fontSize:"2.7em"},location:e.location}))),r.a.createElement(f.a,null,r.a.createElement(h,{colClass:"col-auto",height:"100%"},r.a.createElement(E,{options:e})))),r.a.createElement(p.a,{style:{margin:"0 0 40px 0"}},r.a.createElement(f.a,null,r.a.createElement(h,{colClass:"col-auto",height:"100%"},r.a.createElement(v,{style:{textAlign:"center",fontSize:"3rem"},tempC:e.tempC,tempF:e.tempF,unit:sessionStorage.unit}),r.a.createElement(b,{style:{fontSize:"1rem"},description:e.description}))))),r.a.createElement(I,{id:"forecast",unit:sessionStorage.unit}),r.a.createElement(w,null))},J=a(3);var H=function(){return r.a.createElement(h,{height:"100vh",colClass:"col-auto"},r.a.createElement("div",{style:{fontSize:"2rem",textAlign:"center"}},"Coming Soon"))},L=a(35),A=a.n(L);var D=function(e){var t=e.name,a=e.color;return r.a.createElement(h,{backgroundColor:"rgb(36,36,36)",height:"100vh",colClass:"col-auto loading"},r.a.createElement(A.a,{name:t,color:a}))};var T=function(){var e={color:"white",iconHeight:128,iconWidth:128,instance:1,description:"rain"},t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),u=Object(i.a)(l,2),m=u[0],p=u[1],f=Object(n.useState)("F"),y=Object(i.a)(f,2),g=y[0],E=y[1],v=Object(n.useState)(!1),b=Object(i.a)(v,2),w=b[0],S=b[1];return sessionStorage.setItem("unit",g),Object(n.useEffect)((function(){m||(sessionStorage.positon?function(e,t){O().then((function(a){e((function(e){var n=Object.assign({},e);return n.location=a.timezone.split("/")[1].replace("_"," "),n.tempF=Math.round(a.currently.temperature),n.tempC=Math.round(M(a.currently.temperature)),n.icon=a.currently.icon,n.description=a.currently.summary,sessionStorage.setItem("weather",JSON.stringify(a)),t(!0),n}))}))}(c,p):function(e,t,a,n){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){e.long=n.coords.longitude,e.lat=n.coords.latitude,sessionStorage.setItem("position",JSON.stringify(e)),O().then((function(e){t.location=e.timezone.split("/")[1].replace("_"," "),t.tempF=Math.round(e.currently.temperature),t.tempC=Math.round(M(e.currently.temperature)),t.icon=e.currently.icon,t.description=e.currently.summary,sessionStorage.setItem("weather",JSON.stringify(e)),a(!0)}))}),(function(){n(!0)})):alert("Sorry, your browser does not support geolocation services.")}({},e,p,S))}),[m,g,e,w]),m?r.a.createElement(s.a,null,r.a.createElement(d,{setUnit:E,props:{variant:"tabs",defaultActiveKey:"/home"}}),r.a.createElement(J.c,null,r.a.createElement(J.a,{exact:!0,path:"/Weather/",component:function(){return r.a.createElement(z,o)}}),r.a.createElement(J.a,{exact:!0,path:"/Weather/timemachine",component:H}))):w?r.a.createElement(h,{colClass:"col col-auto",height:"93vh"},r.a.createElement("div",{className:"blocked"},"Location service blocked, cannot retrieve weather.")):r.a.createElement(D,{name:"rotating-plane",color:"white"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.7ad8adb4.chunk.js.map